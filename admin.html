<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <style>
    body { font-family: Arial; margin: 20px; background: #f3f4f6; }
    h2 { color: #333; }
    #userList { margin-top: 20px; }
    .userCard {
      background: white;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
      margin-bottom: 10px;
    }
    button { margin-right: 5px; }
    .approved { color: green; font-weight: bold; }
    .pending { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h2>üîê Admin Login</h2>
  <input id="adminEmail" placeholder="Admin Email"><br>
  <input id="adminPassword" type="password" placeholder="Password"><br>
  <button id="adminLoginBtn">Login</button>
  <p id="msg"></p>

  <div id="adminPanel" style="display:none;">
    <h2>üë• User Management</h2>
    <div id="userList"></div>
    <button id="logoutBtn">Logout</button>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
    import { getFirestore, collection, getDocs, updateDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

    // üîß ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ firebaseConfig ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶∏‡¶æ‡¶ì
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_BUCKET",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    const ADMIN_EMAIL = "YOUR_ADMIN_EMAIL"; // üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶∏‡¶æ‡¶ì

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const msg = document.getElementById("msg");
    const adminPanel = document.getElementById("adminPanel");
    const userList = document.getElementById("userList");

    document.getElementById("adminLoginBtn").addEventListener("click", async () => {
      const email = adminEmail.value;
      const password = adminPassword.value;
      try {
        const userCred = await signInWithEmailAndPassword(auth, email, password);
        if (userCred.user.email === ADMIN_EMAIL) {
          msg.innerText = "‚úÖ Admin logged in.";
          loadUsers();
          adminPanel.style.display = "block";
        } else {
          msg.innerText = "‚ùå You are not admin!";
          signOut(auth);
        }
      } catch (err) {
        msg.innerText = err.message;
      }
    });

    document.getElementById("logoutBtn").addEventListener("click", async () => {
      await signOut(auth);
      adminPanel.style.display = "none";
      msg.innerText = "Logged out.";
    });

    async function loadUsers() {
      userList.innerHTML = "<p>Loading users...</p>";
      const querySnapshot = await getDocs(collection(db, "users"));
      userList.innerHTML = "";
      querySnapshot.forEach((docSnap) => {
        const data = docSnap.data();
        const div = document.createElement("div");
        div.className = "userCard";
        div.innerHTML = `
          <p><b>${data.username}</b> (${data.email})</p>
          <p>DOB: ${data.dob}</p>
          <p>Status: ${data.approved ? '<span class="approved">Approved</span>' : '<span class="pending">Pending</span>'}</p>
          <button data-id="${docSnap.id}" class="approveBtn">Approve ‚úÖ</button>
          <button data-id="${docSnap.id}" class="removeBtn">Delete ‚ùå</button>
        `;
        userList.appendChild(div);
      });

      document.querySelectorAll(".approveBtn").forEach(btn => {
        btn.addEventListener("click", async () => {
          con
