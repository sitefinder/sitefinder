<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login System</title>
</head>
<body>
  <h2>Register</h2>
  <input id="email" placeholder="Email"><br>
  <input id="username" placeholder="Username"><br>
  <input id="dob" placeholder="YYYY-MM-DD"><br>
  <input id="password" type="password" placeholder="Password"><br>
  <button id="registerBtn">Register</button>

  <h2>Login</h2>
  <input id="loginEmail" placeholder="Email"><br>
  <input id="loginPassword" type="password" placeholder="Password"><br>
  <button id="loginBtn">Login</button>

  <p id="message"></p>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAT-rcX53-rnBOJaVHoEH5gZ1wLABOOhJM",
  authDomain: "sitefinder-website.firebaseapp.com",
  projectId: "sitefinder-website",
  storageBucket: "sitefinder-website.firebasestorage.app",
  messagingSenderId: "463431188879",
  appId: "1:463431188879:web:07ed72bf8bb26c67620bfa",
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const message = document.getElementById("message");

    document.getElementById('registerBtn').addEventListener('click', async () => {
      const emailVal = email.value;
      const passVal = password.value;
      const userVal = username.value;
      const dobVal = dob.value;

      try {
        const userCred = await createUserWithEmailAndPassword(auth, emailVal, passVal);
        await setDoc(doc(db, "users", userCred.user.uid), {
          email: emailVal,
          username: userVal,
          dob: dobVal,
          approved: false,
          createdAt: new Date()
        });
        message.innerText = "âœ… Account created! Wait for admin approval.";
      } catch (e) {
        message.innerText = e.message;
      }
    });

    document.getElementById('loginBtn').addEventListener('click', async () => {
      try {
        const userCred = await signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value);
        const docSnap = await getDoc(doc(db, "users", userCre
